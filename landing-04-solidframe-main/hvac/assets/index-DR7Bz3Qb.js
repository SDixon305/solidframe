(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();console.log("SolidFrame HVAC Rugged Landing Loaded");document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(n){n.preventDefault();const s=this.getAttribute("href");if(s==="#")return;const l=document.querySelector(s);if(l){l.scrollIntoView({behavior:"smooth"});const e=document.querySelector(".desktop-nav");e.classList.contains("active")&&e.classList.remove("active")}})});const f=document.querySelector(".mobile-menu-toggle"),g=document.querySelector(".desktop-nav");f&&g&&f.addEventListener("click",()=>{g.classList.toggle("active"),f.textContent=g.classList.contains("active")?"✕":"☰"});const i=document.querySelector(".play-btn"),p=document.querySelector(".demo-visualizer"),r=document.getElementById("transcript-container");let o=new Audio("/audio/demo_call.wav");const d=[{time:1.24,role:"ai",text:"Trinity Cooling and Air. How may I help you?"},{time:5.1,role:"user",text:"Hey. My AC just went out in my house, and I need somebody out as soon as possible."},{time:12.68,role:"ai",text:"I'm really sorry you're dealing with that. Especially in this Miami heat. Let me grab a couple quick details so we can help. Are you an existing customer of ours?"},{time:22.75,role:"user",text:"Yeah. My name is Daniel White."},{time:27.4,role:"ai",text:"Got it. Thank you, Mr. White. I'm seeing your address at 1840 Southwest 27th Avenue. Is that correct?"},{time:34.43,role:"user",text:"Yeah. That's right."},{time:36.96,role:"ai",text:"And the best number to reach you and send dispatch confirmation is 305-555-7124."},{time:45.15,role:"user",text:"Correct."},{time:47.85,role:"ai",text:"Okay. Great. So you said your AC is completely out."},{time:53.17,role:"user",text:"Yeah. The fan is still blowing, but the air coming out isn't cool. And the machine outside is, like, making a really high pitched sound, and the house is getting really hot. And I've got 2 kids under 2 here, so I wanted somebody out as soon as possible."},{time:68.67,role:"ai",text:"Got it. Based on what you're describing, this definitely sounds urgent. And we want to get someone out to you as quickly as possible. Especially with little ones in the house and this heat wave we're dealing with. Can you give me 1 moment to contact our on call technician?"},{time:84.91,role:"user",text:"Yeah. Sure. No problem."},{time:88.93,role:"ai",text:"Okay. I've been able to confirm availability with our on call technician, Trevor. He's not far from you now. We can be out to your home within about 45 minutes to an hour. Does that work for you?"},{time:101.21,role:"user",text:"Yeah. That'd be fantastic. Thank you."},{time:106.89,role:"ai",text:"My pleasure. Great. So Trevor has already been dispatched and should be on the way to you. We'll send a dispatch confirmation text to your number, and I've passed your information along to Trevor so he can contact you while he's on his way if needed."},{time:121.58,role:"user",text:"Okay. Thanks so much for the help."},{time:126.46,role:"ai",text:"My pleasure. And thank you for calling Trinity Cooling and Air. We'll get this taken care of for you as quickly as possible tonight."},{time:130,role:"user",text:"Okay. Thanks. Bye."}],x=a=>{const n=Math.floor(a/60),s=Math.floor(a%60);return`${n}:${s.toString().padStart(2,"0")}`};if(i){let s=function(e,t,c){if(!r)return;n&&(clearTimeout(n.timeoutId),n.finish(),n=null);const m=document.createElement("div");m.className=`msg ${e.role}`,m.innerHTML=`<strong>${e.role==="ai"?"AI":"Caller"}:</strong> <span class="text-content"></span>`,r.appendChild(m);const u=m.querySelector(".text-content");if(c){u.textContent=e.text,r.scrollTop=r.scrollHeight;return}const y=e.text.split(" ");let h=0;const T=t*1e3,b=Math.max(T*.9/y.length,30),L=()=>{u.textContent=e.text,r.scrollTop=r.scrollHeight},v=()=>{h<y.length?(u.textContent+=(h>0?" ":"")+y[h],h++,r.scrollTop=r.scrollHeight,n={timeoutId:setTimeout(v,b),finish:L}):n=null};v()},l=function(){r&&(r.innerHTML="",a=-1,n&&(clearTimeout(n.timeoutId),n=null))};var I=s,S=l;o.preload="metadata",o.addEventListener("loadedmetadata",()=>{o.duration&&o.duration!==1/0&&(i.textContent=`▶ LISTEN (${x(o.duration)})`)}),o.addEventListener("ended",()=>{i.classList.remove("playing"),p.classList.remove("playing");const e=o.duration?`(${x(o.duration)})`:"";i.textContent=`▶ LISTEN ${e}`}),o.addEventListener("error",()=>{console.warn("Audio file not found. Please add /public/audio/demo_call.wav"),i.textContent="⚠️ AUDIO MISSING"});let a=-1,n=null;o.addEventListener("timeupdate",()=>{const e=o.currentTime;for(let t=a+1;t<d.length&&e>=d[t].time;t++){let c=t<d.length-1?d[t+1].time:o.duration||9999;const m=e>=c;let u=c-d[t].time;t===d.length-1&&(u=(o.duration||e+5)-d[t].time),u<1&&(u=1),s(d[t],u,m),a=t}}),i.addEventListener("click",()=>{if(i.classList.contains("playing")){o.pause(),i.classList.remove("playing"),p.classList.remove("playing");const e=o.duration?`(${x(o.duration)})`:"";i.textContent=`▶ LISTEN ${e}`}else(o.currentTime<.5||o.ended)&&l(),o.play().catch(e=>console.log("Playback failed:",e)),i.classList.add("playing"),p.classList.add("playing"),i.textContent="❚❚ PAUSE"})}
